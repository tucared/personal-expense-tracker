# Documentation

This directory contains documentation and schema definitions for the Personal Expense Tracker platform.

## Files

### `database_schema.csv`

This file contains the schema definitions for all database tables available when running the Personal Expense Tracker. The schema is automatically generated using the Makefile targets `make generate-schema-dev` or `make generate-schema-prod`. It includes:

- **Database**: The database name (e.g., `memory`)
- **Schema**: The schema name (e.g., `raw`)
- **Table Name**: The name of each table
- **Column Names**: Comma-separated list of all columns in each table
- **Column Types**: Data types for each column (VARCHAR, DOUBLE, BOOLEAN, etc.)
- **Temporary**: Whether the table is temporary

#### Available Tables

1. **`expenses`** - Main expense tracking table with Notion data including amounts, categories, dates, and metadata
2. **`expenses_properties_name_title`** - Title properties and annotations for expense names
3. **`monthly_category_amounts`** - Monthly budget allocations by category
4. **`rate`** - Currency exchange rates (EUR to BRL) by date

#### Usage

This schema file can be used to:

- Understand the structure of available data
- Write SQL queries against the platform
- Generate documentation or data models
- Validate data pipeline outputs

#### Generating the Schema

To update the schema file:

1. Initialize the DuckDB database: `make init-duckdb-prod` (or `make init-duckdb-dev`)
2. Generate the schema CSV: `make generate-schema-prod` (or `make generate-schema-dev`)

The schema is automatically generated by running `SHOW ALL TABLES` in DuckDB and exporting to CSV format.
